{% extends "vendor/base.html" %}
{% load static %}

{% block title %}Products{% endblock %}

{% block bootstrap %}
    {{ block.super }}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
{% endblock %}
    
{% block main %}
    <div class="container text-center">
        <h1 class="mt-5">Products</h1>
        <div class="row justify-content-start">
            {% if products %}
                {% for product in products %}
                    
                        <div class="col-md-4 p-2">
                            <div class="rounded container bg-light w-50 p-3 h-auto d-inline-block hover-overlay ripple shadow-1-strong border border-dark" data-mdb-ripple-color="light">
                                <img src="{% static 'vendor/assets/default_product_image.png' %}" class="rounded img-fluid vw-50 vh-10 border border-dark" alt="item-image">
                                <p class="h4 text-dark p-2">{{ product.name|slice:":15" }}{% if product.name|length > 15 %}...{% endif %}</p>
                                <p class="text-dark text-center">${{product.price}}</p>
                                <p class="text-dark text-center">{{product.stock}} left</p>
                                <button type="button" class="btn btn-outline-dark w-75">Do something</button>

                            </div>
                        </div>
                {% endfor %}
            {% else %}
            <p class="mt-5">No products available yet.</p>
            {% endif %}
        </div>
        <div class="mt-5">
            <a href="{% url 'add_product' %}"><button type="button" class="btn btn-outline-success">Add product!</button></a>
        </div>
    </div>
{% endblock %}

{% block javascript %}
    {{ block.super }}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
{% endblock %}